<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Registrieren · SBS KI-Rechnungsverarbeitung</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" href="/static/favicon.ico" />
  <link rel="stylesheet" href="/static/css/design-tokens.css" />
  <link rel="stylesheet" href="/static/css/components.css" />
  <link rel="stylesheet" href="/static/css/main.css" />
  <style>
    .auth-container {
      max-width: 420px;
      margin: 40px auto;
      padding: 0 20px;
    }
    .auth-card {
      background: var(--sbs-white);
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }
    .auth-card h1 {
      margin: 0 0 8px 0;
      font-size: 1.8rem;
      text-align: center;
    }
    .auth-card .subtitle {
      text-align: center;
      color: var(--sbs-muted);
      margin-bottom: 32px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.9rem;
    }
    .form-group input {
      width: 100%;
      padding: 14px;
      border: 1px solid var(--sbs-border-soft);
      border-radius: 8px;
      font-size: 1rem;
      background: var(--sbs-bg);
      box-sizing: border-box;
    }
    .form-group input:focus {
      outline: none;
      border-color: var(--sbs-accent);
    }
    .form-group .hint {
      font-size: 0.8rem;
      color: var(--sbs-muted);
      margin-top: 6px;
    }
    .btn-register {
      width: 100%;
      padding: 14px;
      background: var(--sbs-accent);
      color: var(--sbs-dark);
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 8px;
    }
    .btn-register:hover {
      background: #e6a600;
    }
    .auth-footer {
      text-align: center;
      margin-top: 24px;
      font-size: 0.9rem;
    }
    .auth-footer a {
      color: var(--sbs-dark);
      font-weight: 600;
    }
    .error-msg {
      background: #f8d7da;
      color: #721c24;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 0.9rem;
    }
    .logo-center {
      text-align: center;
      margin-bottom: 32px;
    }
    .logo-center img {
      height: 50px;
    }
  
    .password-input-wrap {
      position: relative;
      display: flex;
      align-items: center;
    }
    .password-input-wrap input {
      padding-right: 45px;
    }
    .password-toggle {
      position: absolute;
      right: 12px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      color: #6b7280;
    }
    .password-toggle:hover {
      color: #003856;
    }
    .eye-icon {
      width: 20px;
      height: 20px;
    }
    .password-requirements {
      margin-top: 10px;
      font-size: 0.85rem;
    }
    .requirement {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 3px 0;
      color: #6b7280;
    }
    .requirement.valid {
      color: #16a34a;
    }
    .requirement.valid .icon {
      color: #16a34a;
    }
    .requirement .icon {
      font-size: 0.9rem;
    }
</style>
</head>
<body>

<div class="auth-container">
  <div class="auth-card">
    <div class="logo-center">
      <img src="/static/sbs-logo-new.png" alt="SBS Deutschland" />
    </div>
    
    <h1>Konto erstellen</h1>
    <p class="subtitle">Starten Sie mit der KI-Rechnungsverarbeitung</p>
    
    {% if error %}
    <div class="error-msg">{{ error }}</div>
    {% endif %}
    
    <form method="POST" action="/register">
      <div class="form-group">
        <label>Name</label>
        <input type="text" name="name" class="form-input" placeholder="Max Mustermann">
      </div>
      
      <div class="form-group">
        <label>Firma (optional)</label>
        <input type="text" name="company" placeholder="Musterfirma GmbH">
      </div>
      
      <div class="form-group">
        <label>Email *</label>
        <input type="email" name="email" class="form-input" required placeholder="ihre@email.de">
      </div>
      
      <div class="form-group">
        <label>Passwort *</label>
        <div class="password-input-wrap">
          <input type="password" name="password" id="password" class="form-input" required placeholder="••••••••">
          <button type="button" class="password-toggle" onclick="togglePassword('password', this)" aria-label="Passwort anzeigen">
            <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
        </div>
        <div class="password-requirements">
          <div class="requirement" id="req-length"><span class="icon">○</span> Mindestens 8 Zeichen</div>
          <div class="requirement" id="req-upper"><span class="icon">○</span> Ein Großbuchstabe (A-Z)</div>
          <div class="requirement" id="req-lower"><span class="icon">○</span> Ein Kleinbuchstabe (a-z)</div>
          <div class="requirement" id="req-number"><span class="icon">○</span> Eine Zahl (0-9)</div>
        </div>
      </div>
      
      <div class="form-group">
        <label>Passwort wiederholen *</label>
        <div class="password-input-wrap">
          <input type="password" name="password2" id="password2" class="form-input" required placeholder="••••••••">
          <button type="button" class="password-toggle" onclick="togglePassword('password2', this)" aria-label="Passwort anzeigen">
            <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
        </div>
        <div class="requirement" id="req-match"><span class="icon">○</span> Passwörter stimmen überein</div>
      </div>
      
      <button type="submit" class="btn-register">Konto erstellen</button>
    </form>
    
    <div class="auth-footer">
      Bereits registriert? <a href="/login">Anmelden</a>
    </div>
  </div>
</div>


<script>
function togglePassword(inputId, btn) {
  const input = document.getElementById(inputId);
  if (input.type === 'password') {
    input.type = 'text';
    btn.innerHTML = '<svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>';
  } else {
    input.type = 'password';
    btn.innerHTML = '<svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
  }
}

document.addEventListener('DOMContentLoaded', function() {
  const pw = document.getElementById('password');
  const pw2 = document.getElementById('password2');
  
  if (!pw) return;
  
  function validate() {
    const val = pw.value;
    
    // Length check
    const reqLength = document.getElementById('req-length');
    if (val.length >= 8) {
      reqLength.classList.add('valid');
      reqLength.querySelector('.icon').textContent = '✓';
    } else {
      reqLength.classList.remove('valid');
      reqLength.querySelector('.icon').textContent = '○';
    }
    
    // Uppercase check
    const reqUpper = document.getElementById('req-upper');
    if (/[A-Z]/.test(val)) {
      reqUpper.classList.add('valid');
      reqUpper.querySelector('.icon').textContent = '✓';
    } else {
      reqUpper.classList.remove('valid');
      reqUpper.querySelector('.icon').textContent = '○';
    }
    
    // Lowercase check
    const reqLower = document.getElementById('req-lower');
    if (/[a-z]/.test(val)) {
      reqLower.classList.add('valid');
      reqLower.querySelector('.icon').textContent = '✓';
    } else {
      reqLower.classList.remove('valid');
      reqLower.querySelector('.icon').textContent = '○';
    }
    
    // Number check
    const reqNumber = document.getElementById('req-number');
    if (/[0-9]/.test(val)) {
      reqNumber.classList.add('valid');
      reqNumber.querySelector('.icon').textContent = '✓';
    } else {
      reqNumber.classList.remove('valid');
      reqNumber.querySelector('.icon').textContent = '○';
    }
    
    // Match check
    const reqMatch = document.getElementById('req-match');
    if (pw2.value && val === pw2.value) {
      reqMatch.classList.add('valid');
      reqMatch.querySelector('.icon').textContent = '✓';
    } else {
      reqMatch.classList.remove('valid');
      reqMatch.querySelector('.icon').textContent = '○';
    }
  }
  
  pw.addEventListener('input', validate);
  pw2.addEventListener('input', validate);
});
</script>
<!-- SBS Chat Widget -->
<link rel="stylesheet" href="https://chat.sbsdeutschland.com/static/chat-widget.css">
<script src="https://chat.sbsdeutschland.com/static/chat-widget.js" defer></script>
</body>
</html>
