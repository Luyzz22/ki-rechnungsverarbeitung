<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Systemstatus Â· SBS KI-Rechnungsverarbeitung</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" href="/static/favicon.ico" />
  <link rel="stylesheet" href="/static/css/design-tokens.css" />
  <link rel="stylesheet" href="/static/css/components.css" />
  <link rel="stylesheet" href="/static/css/main.css" />
  <style>
    body {
      background: var(--sbs-bg-soft, #f3f4f6);
    }
    .health-wrapper {
      padding: 32px 24px 56px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .health-summary {
      background: var(--sbs-white, #ffffff);
      border-radius: 18px;
      padding: 24px 28px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.08);
      margin-bottom: 32px;
    }
    .health-summary h2 {
      margin: 0 0 12px 0;
      font-size: 1.25rem;
      color: var(--sbs-dark, #111827);
    }
    .health-summary p {
      margin: 4px 0;
      font-size: 0.95rem;
      color: var(--sbs-muted, #6b7280);
    }
    .health-summary strong {
      color: var(--sbs-dark, #111827);
    }
    .tag-ok,
    .tag-warn {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.85rem;
      font-weight: 600;
      margin-left: 4px;
    }
    .tag-ok {
      background: rgba(22,163,74,0.1);
      color: #15803d;
    }
    .tag-warn {
      background: rgba(234, 179, 8, 0.12);
      color: #92400e;
    }
    h2.section-title {
      font-size: 1.1rem;
      margin: 24px 0 12px;
      color: var(--sbs-dark, #111827);
    }
    .code-block {
      background: #020617;
      color: #e5e7eb;
      border-radius: 18px;
      padding: 18px 20px;
      font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.8rem;
      line-height: 1.4;
      overflow: auto;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.55);
    }
  </style>
</head>
<body>

{% include 'partials/header.html' %}<section class="hero" style="padding: 40px 24px;">
  <div class="hero-content">
    <h1>ðŸ©º Systemstatus</h1>
    <p class="hero-subtitle">Gesundheitscheck von Datenbank, Jobs, Backups &amp; Uptime.</p>
  </div>
</section>

<main class="health-wrapper">
  <section class="health-summary">
    <h2>Ãœbersicht</h2>
    <p>
      Status:
      {% if data.status == "healthy" %}
        <span class="tag-ok">healthy</span>
      {% else %}
        <span class="tag-warn">{{ data.status }}</span>
      {% endif %}
    </p>
    <p>Datenbank: <strong>{{ data.database }}</strong></p>
    <p>Jobs im Speicher: <strong>{{ data.jobs_in_memory }}</strong></p>
    <p>Uptime: <strong>{{ "%.1f"|format(data.uptime_hours) }} Stunden</strong></p>
  </section>

  <section>
    <h2 class="section-title">Backup</h2>
    <pre class="code-block">{{ backup_json }}</pre>
  </section>

  <section>
    <h2 class="section-title">Rohdaten</h2>
    <pre class="code-block">{{ raw_json }}</pre>
  </section>
</main>

<!-- SBS Chat Widget -->
<link rel="stylesheet" href="https://chat.sbsdeutschland.com/static/chat-widget.css">
<script src="https://chat.sbsdeutschland.com/static/chat-widget.js" defer></script>
</body>
</html>
