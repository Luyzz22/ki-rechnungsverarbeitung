<!DOCTYPE html>
<html lang="de">
<head>
<style>
/* sbs-page-flex-layout */
body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, -system-ui, -system, sans-serif;
  background: #f5f6f8;
  color: #0f172a;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
#sbs-footer-global {
  margin-top: auto;
  padding: 18px 24px;
  font-size: 14px;
  color: #0f172a;
  background: #ffffff;
  border-top: 1px solid rgba(148,163,253,0.15);
}
#sbs-footer-global a {
  color: #0f172a;
  text-decoration: none;
  margin: 0 4px;
}
#sbs-footer-global a:hover {
  text-decoration: underline;
}
/* /sbs-page-flex-layout */
</style>

<meta charset="UTF-8"/>
<title>SBS Deutschland - Upload</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
    <link rel="stylesheet" href="/static/app-theme.css">
<link rel="icon" href="/static/favicon.ico">
  <link rel="stylesheet" href="/static/sbs-global.css">
</head>
<body>
<header><div class="wrap"><div class="nav">
<div class="logo">
<img src="/static/sbs-logo-new.png" alt="SBS">
<div class="logo-text">
<span>SBS Deutschland GmbH & Co. KG</span>
<span>Smart Business Service Â· Weinheim</span>
</div>
</div>
<nav class="nav-links">
<a href="https://sbsdeutschland.com/sbshomepage/">Startseite</a>
<a href="https://sbsdeutschland.com/landing">KI-Rechnungsverarbeitung</a>
<a href="/" class="active">Upload</a>
<a href="https://sbsdeutschland.com/sbshomepage/kontakt.html">Kontakt</a>
</nav>
</div></div></header>
<section class="hero"><div class="wrap hero-content">
<div class="eyebrow">KI-gestÃ¼tzte Automatisierung</div>
<h1>ğŸš€ Rechnungen hochladen & verarbeiten</h1>
<p>Laden Sie Ihre PDF-Rechnungen hoch und lassen Sie unsere KI sie automatisch verarbeiten.</p>
</div></section>
<section><div class="wrap"><div class="upload-card">
<div class="drop-zone" id="dropZone">
<h3>ğŸ“„ PDF-Rechnungen hochladen</h3>
<p>Drag & Drop oder klicken</p>
<input type="file" id="fileInput" multiple accept=".pdf,.png,.jpg,.jpeg" style="display:none">
</div>
<div id="fileList" class="file-list"></div>
<div style="text-align:center">
<button class="btn-process" id="processBtn">âš¡ Jetzt verarbeiten</button>
</div>
<div id="status"></div>
</div></div></section>
<script>
document.getElementById('year').textContent=new Date().getFullYear();
const dropZone=document.getElementById('dropZone'),fileInput=document.getElementById('fileInput'),fileList=document.getElementById('fileList'),processBtn=document.getElementById('processBtn'),status=document.getElementById('status');
let selectedFiles=[];
dropZone.onclick=()=>fileInput.click();
dropZone.ondragover=e=>{e.preventDefault();dropZone.classList.add('dragover')};
dropZone.ondragleave=()=>dropZone.classList.remove('dragover');
dropZone.ondrop=e=>{e.preventDefault();dropZone.classList.remove('dragover');handleFiles(e.dataTransfer.files)};
fileInput.onchange=e=>handleFiles(e.target.files);
function handleFiles(files){
Array.from(files).filter(f=>f.name.match(/\.(pdf|png|jpe?g)$/i)).forEach(f=>{if(!selectedFiles.some(x=>x.name===f.name))selectedFiles.push(f)});
updateFileList();
processBtn.style.display=selectedFiles.length?'inline-block':'none';
}
function updateFileList(){
fileList.innerHTML='';
selectedFiles.forEach((f,i)=>{
const d=document.createElement('div');
d.className='file-item';
d.innerHTML='<span>'+(f.name.endsWith('.pdf')?'ğŸ“„':'ğŸ–¼ï¸')+' '+f.name+' <span style="color:var(--text)">('+( f.size/1024).toFixed(1)+' KB)</span></span><button class="btn-remove" onclick="removeFile('+i+')">âœ•</button>';
fileList.appendChild(d);
});
}
function removeFile(i){selectedFiles.splice(i,1);updateFileList();processBtn.style.display=selectedFiles.length?'inline-block':'none'}
processBtn.onclick=async()=>{
if(!selectedFiles.length)return;
processBtn.disabled=true;
status.innerHTML='<div class="alert alert-info"><div class="processing-spinner"></div><p style="margin-top:10px">Upload...</p></div>';
const fd=new FormData();
selectedFiles.forEach(f=>fd.append('files',f));
try{
const r=await fetch('/api/upload',{method:'POST',body:fd}),d=await r.json();
if(d.success){
status.innerHTML='<div class="alert alert-info"><div class="processing-spinner"></div><p style="margin-top:10px">KI-Verarbeitung...</p></div>';
const pr=await fetch('/api/process/'+d.batch_id,{method:'POST'}),pd=await pr.json();
if(pd.success)checkStatus(d.batch_id);
else{status.innerHTML='<div class="alert alert-danger">âŒ Fehler</div>';processBtn.disabled=false}
}
}catch{status.innerHTML='<div class="alert alert-danger">âŒ Fehler</div>';processBtn.disabled=false}
};
async function checkStatus(id){
try{
const r=await fetch('/api/status/'+id),d=await r.json();
if(d.status==='processing')setTimeout(()=>checkStatus(id),2000);
else if(d.status==='completed'){
status.innerHTML='<div class="alert alert-success"><h4>âœ… Fertig!</h4><a href="/results/'+id+'" class="btn-results">ğŸ“Š Ergebnisse</a></div>';
processBtn.disabled=false;selectedFiles=[];updateFileList();processBtn.style.display='none';
}
}catch{setTimeout(()=>checkStatus(id),3000)}
}
</script>
<footer id="sbs-footer-global">
  <div class="inner" style="max-width:1200px;margin:0 auto;padding:18px 20px;font-size:13px;color:#4b5b6a;display:flex;flex-wrap:wrap;gap:6px;justify-content:center;">
    <span>Â© SBS Deutschland GmbH &amp; Co. KG Â· In der Dell 19, 69469 Weinheim</span>
    <span>Â·</span>
    <a href="/static/landing/impressum.html" style="color:#003856;text-decoration:none;">Impressum</a>
    <span>Â·</span>
    <a href="/static/landing/datenschutz.html" style="color:#003856;text-decoration:none;">Datenschutz</a>
    <span>Â·</span>
    <a href="/static/landing/agb.html" style="color:#003856;text-decoration:none;">AGB</a>
  </div>
</footer>
</body>
</html>
